var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var c=a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.array=$jscomp.array||{};
$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var b=0,d={next:function(){if(b<a.length){var e=b++;return{value:c(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.entries",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,b){return[a,b]})}},"es6-impl","es3");
function leafext_is_point_in_layer(a,c,b){turfpoint=turf.point([c.lng,c.lat]);if(b instanceof L.Circle){var d=b.getLatLng();b=b.getRadius();if(d.distanceTo(c)<b)return!0}else if(b instanceof L.Polyline&&!(b instanceof L.Polygon)){if(5>L.GeometryUtil.closest(a,b,c).distance)return!0}else if(b instanceof L.Polygon){if(turf.booleanPointInPolygon(turfpoint,b.toGeoJSON()))return!0}else if(b instanceof L.Path){d=b.getLatLng();b=b.getRadius();var e=[];e.push(new L.Marker(d));if(0<L.GeometryUtil.layersWithin(a,
e,c,b).length)return!0}else if(!(b instanceof L.Marker))if("MultiPolygon"==b.type||"Polygon"==b.type){if(turf.booleanPointInPolygon(turfpoint,b))return!0}else if("LineString"==b.type){d=[];for(e=0;e<b.coordinates.length;e++)d.push([b.coordinates[e][1],b.coordinates[e][0]]);b=L.polyline(d);if(5>L.GeometryUtil.closest(a,b,c).distance)return!0}else"Point"!=b.type&&b.feature&&b.feature.geometry&&"GeometryCollection"==b.feature.geometry.type&&turf.flattenEach(b.toGeoJSON(),function(b,d,e){if(leafext_is_point_in_layer(a,
c,b.geometry))return!0});return!1}function leafext_close_tooltips(a){a.eachLayer(function(c){"tooltipPane"===c.options.pane&&c.removeFrom(a)})}function leafext_map_popups(a){var c=!1;a.eachLayer(function(b){b instanceof L.Popup&&(c=!0)});return c}function leafext_markertooltip(a){var c=!1;a.eachLayer(function(b){"tooltipPane"===b.options.pane&&(c=b._source instanceof L.Marker)});return c}
function leafext_marker_click(a,c,b,d){var e=a.type,g=[];"click"==e&&overlaplayers[b].eachLayer(function(b){leafext_make_styleback(b)});overlaplayers[b].eachLayer(function(b){leafext_is_point_in_layer(c,a.latlng,b)&&("click"==e&&leafext_make_overstyle(b),b.getPopup().getContent()&&g.push(b.getPopup().getContent()))});d.options.popupContent&&g.push(d.options.popupContent);leafext_close_tooltips(c);b=!1;a.sourceTarget.getPopup()&&a.sourceTarget.getPopup().isOpen()&&(b=!0);"mouseover"==e&&0==leafext_map_popups(c)&&
0==b&&(a.sourceTarget.unbindTooltip(),a.sourceTarget.bindTooltip(g.join("<br>")),a.sourceTarget.openTooltip(a.latlng));"click"==e&&(a.sourceTarget.bindTooltip("",{visibility:"hidden",opacity:0}).closeTooltip(),a.sourceTarget.bindPopup(g.join("<br>")),a.sourceTarget.openPopup())}
function leafext_hoverlap_js(a){var c=window.WPLeafletMapPlugin.getCurrentMap(),b=c._leaflet_id;"undefined"==typeof overlaplayers&&(overlaplayers=[]);"undefined"==typeof overlaplayers[b]&&(overlaplayers[b]=new L.LayerGroup,overlaplayers[b].addTo(c));var d=window.WPLeafletMapPlugin.markergroups;Object.entries(d).forEach(function(a){a=$jscomp.makeIterator(a);var h=a.next().value;a.next();null!==d[h]._map&&b==d[h]._map._leaflet_id&&d[h].eachLayer(function(a){a.getPopup()&&a.getPopup().getContent()&&
(a.options.popupContent=a.getPopup().getContent());if(a instanceof L.Marker)a.on("mouseover click",function(h){leafext_marker_click(h,c,b,a)});else if(a instanceof L.Polygon||a instanceof L.Circle||a instanceof L.Polyline)overlaplayers[b].addLayer(a),a.off("click")})});for(var e=window.WPLeafletMapPlugin.geojsons,g=0,m=e.length;g<m;g++){var k=e[g];if(b==e[g]._map._leaflet_id){var l=-1;""!==a.exclude&&(l=k._url.indexOf(a.exclude));if(-1==l)k.on("ready",function(a){a.target.eachLayer(function(a){"GeometryCollection"==
a.feature.geometry.type?(turf.flattenEach(a.toGeoJSON(),function(c,d,e){a.getPopup()&&(a.options.popupContent=a.getPopup().getContent());"Point"!=c.geometry.type&&"MultiPoint"!=c.geometry.type&&(overlaplayers[b].addLayer(a),a.off("click"))}),a.eachLayer(function(f){1==f instanceof L.Path&&0==f instanceof L.Polygon?(a.options.popupContent&&(f.bindPopup(a.options.popupContent),f.options.popupContent=a.options.popupContent,overlaplayers[b].addLayer(f)),f.off("click")):(f instanceof L.Point||f instanceof
L.Marker)&&a.options.popupContent&&(f.bindPopup(a.options.popupContent),f.options.popupContent=a.options.popupContent,f.off("click"),a.off("click"),f.on("mouseover click",function(a){leafext_marker_click(a,c,b,f)}))})):"Point"==a.feature.geometry.type?a instanceof L.Marker?a.getPopup()&&(a.options.popupContent=a.getPopup().getContent(),a.on("mouseover click",function(f){leafext_marker_click(f,c,b,a)})):(overlaplayers[b].addLayer(a),a.off("click")):"MultiPoint"==a.feature.geometry.type?a.eachLayer(function(f){1==
f instanceof L.Marker?(a.off("click"),a.getPopup()&&(f.bindPopup(a.getPopup().getContent()),f.options.popupContent=a.getPopup().getContent(),f.off("click"),f.on("mouseover click",function(a){leafext_marker_click(a,c,b,f)}))):a.getPopup()&&(f.bindPopup(a.getPopup().getContent()),overlaplayers[b].addLayer(f),f.off("click"))}):a.getPopup()&&(a.options.popupContent=a.getPopup().getContent(),a.off("click"),overlaplayers[b].addLayer(a))})});else k.layer.on("mouseout",function(){this.bringToBack()})}}c.on("mousemove click",
function(a){if(!leafext_map_popups(c)){var d=a.latlng;overlaplayers[b].eachLayer(function(a){leafext_make_styleback(a)});overlaplayers[b].eachLayer(function(a){a.feature&&a.feature.geometry&&a.feature.geometry.type?"GeometryCollection"==a.feature.geometry.type?turf.flattenEach(a.toGeoJSON(),function(b,f,e){leafext_is_point_in_layer(c,d,b.geometry)&&leafext_make_overstyle(a)}):leafext_is_point_in_layer(c,d,a)&&leafext_make_overstyle(a):overlaplayers[b].eachLayer(function(a){leafext_is_point_in_layer(c,
d,a)&&leafext_make_overstyle(a)})})}});c.on("mousemove click",function(a){var d=a.type,f=a.latlng,e=[];overlaplayers[b].eachLayer(function(a){a.feature&&a.feature.geometry&&a.feature.geometry.type?"GeometryCollection"==a.feature.geometry.type?turf.flattenEach(a.toGeoJSON(),function(b,d,g){leafext_is_point_in_layer(c,f,b.geometry)&&a.getPopup().getContent()&&e.push(a.getPopup().getContent())}):leafext_is_point_in_layer(c,f,a)&&a.getPopup().getContent()&&e.push(a.getPopup().getContent()):leafext_is_point_in_layer(c,
f,a)&&a.getPopup().getContent()&&e.push(a.getPopup().getContent())});leafext_map_popups(c)||"mousemove"!=d||leafext_markertooltip(c)||(leafext_close_tooltips(c),0<e.length&&L.tooltip().setLatLng(f).setContent(e.join("<br>")).openOn(c));"click"==d&&(leafext_close_tooltips(c),0<e.length&&L.popup().setLatLng(f).setContent(e.join("<br>")).openOn(c))});c.on("popupclose",function(a){overlaplayers[b].eachLayer(function(a){leafext_make_styleback(a)})})};
